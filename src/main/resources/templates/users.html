<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</title>
  <style>
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
    }
    th, td {
        border: 1px solid black;
        padding: 8px;
        text-align: left;
    }
    th {
        background-color: #f2f2f2;
    }
  </style>
</head>
<body>

<h2>–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h2>

<!-- –§–æ—Ä–º–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ -->
<form method="get" action="/admin/users">
  <label for="username">–ü–æ–∏—Å–∫ –ø–æ –ª–æ–≥–∏–Ω—É:</label>
  <input type="text" id="username" name="username" th:value="${param.username}">

  <label for="role">–§–∏–ª—å—Ç—Ä –ø–æ —Ä–æ–ª–∏:</label>
  <select id="role" name="role">
    <option value="">–í—Å–µ</option>
    <option th:each="role : ${allRoles}"
            th:value="${role}"
            th:text="${role}"
            th:selected="${param.role == role}"></option>
  </select>

  <button type="submit">üîç –ü–æ–∏—Å–∫</button>
  <a href="/admin/users"><button type="button">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button></a>
</form>

<table>
  <thead>
  <tr>
    <th>ID</th>
    <th>–ò–º—è</th>
    <th>–õ–æ–≥–∏–Ω</th>
    <th>–†–æ–ª–∏</th>
    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="user : ${users}">
    <td th:text="${user.id}"></td>
    <td th:text="${user.firstName}"></td>
    <td th:text="${user.username}"></td>
    <td>
      <span th:each="role : ${user.roles}" th:text="${role} + ' '"></span>
    </td>
    <td>
      <a th:href="@{/users/{id}(id=${user.id})}">üîç –ü—Ä–æ—Å–º–æ—Ç—Ä</a>
      <a th:href="@{/users/edit/{id}(id=${user.id})}">‚úè –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
    </td>
  </tr>
  </tbody>
</table>

</body>
</html>